
# This file was generated by the Tkinter Designer by Parth Jadhav
# https://github.com/ParthJadhav/Tkinter-Designer


from pathlib import Path

# from tkinter import *
# Explicit imports to satisfy Flake8
from tkinter import Tk, Canvas, Entry, Text, Button, PhotoImage
import threading
import json
import csv
import subprocess
import time
import sys
import cv2
from PIL import Image, ImageTk
from datetime import datetime, timedelta
import pandas as pd

OUTPUT_PATH = Path(__file__).parent
ASSETS_PATH = OUTPUT_PATH / Path(r"assets\frame0")


def relative_to_assets(path: str) -> Path:
    return ASSETS_PATH / Path(path)

window = Tk()

def make_window_transparent(window):
    # This function makes the window background transparent
    window.wm_attributes('-transparentcolor', "#0C679B")

def animate_window_open(window, target_height, width, step=2, delay=5):
    current_height = window.winfo_height()
    screen_width = window.winfo_screenwidth()
    screen_height = window.winfo_screenheight()

    window.geometry(f"{width}x{current_height}+{screen_width//2 - width//2}+{screen_height//2 - current_height//2}")

    if current_height < target_height:
        new_height = min(current_height + step, target_height)
    else:
        new_height = current_height
    
    new_y = screen_height // 2 - new_height // 2
    window.geometry(f"{width}x{new_height}+{screen_width//2 - width//2}+{new_y}")

    if new_height < target_height:
        window.after(delay, animate_window_open, window, target_height, width, step, delay)

def animate_window_close(window, target_height, width, step=2, delay=5):
    current_height = window.winfo_height()
    screen_width = window.winfo_screenwidth()
    screen_height = window.winfo_screenheight()

    window.geometry(f"{width}x{current_height}+{screen_width//2 - width//2}+{screen_height//2 - current_height//2}")

    if current_height > target_height:
        new_height = max(current_height - step, target_height)
    else:
        new_height = current_height
    
    new_y = screen_height // 2 - new_height // 2
    window.geometry(f"{width}x{new_height}+{screen_width//2 - width//2}+{new_y}")

    if new_height > target_height:
        window.after(delay, animate_window_close, window, target_height, width, step, delay)
    else:
        window.quit()

initial_height = 0
target_height = 716
window_width = 488

window.geometry(f"{window_width}x{initial_height}")
animate_window_open(window, target_height, window_width, step=30, delay=1)

window.configure(bg = "#FFFFFF")
window.attributes('-alpha',0.8)
window.overrideredirect(True)
window.wm_attributes("-topmost", True)
make_window_transparent(window)

subprocess.Popen(['python', 'sfx.py'])

def three_val(val):
    values=f"{val:03d}:"
    new_value=''
    for k in values:
        if k!=':':
            new_value+=k
    return new_value

def sign(num):
    if num<0:
        return "-"
    elif num>0:
        return "+"
    elif num==0:
        return ""

def pos_fix(num):
    if num<0:
        num=abs(num)
        return str(num)
    elif num==0:
        return ""
    else:
        return str(num)

class VideoPlayer:
    def __init__(self, canvas, video_path, x, y, frame_skip=2, resize_factor=0.8):
        self.canvas = canvas
        self.video_path = video_path
        self.cap = cv2.VideoCapture(video_path)
        self.x = x
        self.y = y
        self.frame_skip = frame_skip
        self.resize_factor = resize_factor
        self.image_id = self.canvas.create_image(self.x, self.y)
        self.frame_count = 0
        self.update_frame()

    def update_frame(self):
        ret, frame = self.cap.read()
        
        if not ret:
            self.cap.set(cv2.CAP_PROP_POS_FRAMES, 0)
            ret, frame = self.cap.read()

        if ret:
            self.frame_count += 1
            if self.frame_count % self.frame_skip == 0:
                frame = cv2.resize(frame, (0, 0), fx=self.resize_factor, fy=self.resize_factor)
                frame = cv2.cvtColor(frame, cv2.COLOR_BGR2RGB)
                img = Image.fromarray(frame)
                imgtk = ImageTk.PhotoImage(image=img)
                self.canvas.itemconfig(self.image_id, image=imgtk)
                self.canvas.imgtk = imgtk

        self.canvas.after(10, self.update_frame)

    def __del__(self):
        self.cap.release()

def start_move(event):
    global lastx, lasty
    lastx = event.x_root
    lasty = event.y_root

def move_window(event):
    global lastx, lasty
    deltax = event.x_root - lastx
    deltay = event.y_root - lasty
    x = window.winfo_x() + deltax
    y = window.winfo_y() + deltay
    window.geometry("+%s+%s" % (x, y))
    lastx = event.x_root
    lasty = event.y_root

def ex_close(win):
    with open("Files/Tabs.json",'r') as tab_son:
        tab_son_data=json.load(tab_son)

    with open("Files/Tabs.json",'w') as fin_tab_son:
        tab_son_data["Status"]='Close'
        json.dump(tab_son_data,fin_tab_son,indent=4)
    subprocess.Popen(['python', 'sfx_close.py'])
    animate_window_close(window, initial_height, window_width, step=30, delay=1)

def title_chng(event):
    subprocess.Popen(['python', 'Anime Version/Equip Title/build/gui.py'])

    window.quit()

def title_color(name):
    if name=="False Ranker":
        color="#FF2F2F"
    elif name=="One Above All":
        color="#FFCF26"
    else:
        color="#FFFFFF"

    return color

def start_job(event):
    with open("Files/Data/Job_info.json", 'r') as stat_fson:
        data=json.load(stat_fson)

    canvas.itemconfig("Job", state="hidden")
    data["status"][0]["job_active"]='True'

    data["status"][1]["plSTR"]=int(stre)
    data["status"][1]["plINT"]=int(intel)
    data["status"][1]["plAGI"]=int(agi)
    data["status"][1]["plVIT"]=int(vit)
    data["status"][1]["plPER"]=int(per)
    data["status"][1]["plMAN"]=int(man)

    with open("Files\Temp Files\Job_Change Date.csv", 'w', newline='') as time_open_csv_file:
        fw=csv.writer(time_open_csv_file)
        current_date = datetime.now()
        # Add 10 days to the current date
        future_date = current_date + timedelta(days=1)
        # Define the desired format for the date string
        date_format = "%Y-%m-%d"
        # Convert the future date to a string
        future_date_string = future_date.strftime(date_format)
        fw.writerow([future_date_string])

    with open("Files/Data/Job_info.json", 'w') as fson:
        json.dump(data, fson, indent=4)

canvas = Canvas(
    window,
    bg = "#FFFFFF",
    height = 716,
    width = 488,
    bd = 0,
    highlightthickness = 0,
    relief = "ridge"
)

canvas.place(x = 0, y = 0)
image_image_1 = PhotoImage(
    file=relative_to_assets("image_1.png"))
image_1 = canvas.create_image(
    734.0,
    581.0,
    image=image_image_1
)

video_path = "Files/0001-0200.mp4"
player = VideoPlayer(canvas, video_path, 430.0, 363.0)

image_image_2 = PhotoImage(
    file=relative_to_assets("image_2.png"))
image_2 = canvas.create_image(
    230.0,
    367.0,
    image=image_image_2
)

image_image_3 = PhotoImage(
    file=relative_to_assets("image_3.png"))
image_3 = canvas.create_image(
    150.0,
    117.0,
    image=image_image_3
)

image_image_4 = PhotoImage(
    file=relative_to_assets("image_4.png"))
image_4 = canvas.create_image(
    232.0,
    460.0,
    image=image_image_4
)

image_image_5 = PhotoImage(
    file=relative_to_assets("image_5.png"))
image_5 = canvas.create_image(
    232.0,
    333.0,
    image=image_image_5
)

# ? =====================================================================
# ? =====================================================================

with open("Files/status.json", 'r') as fson:
    data=json.load(fson)
    name=data["status"][0]['name'].upper()
    # ? =================================================
    hp=data["status"][0]['hp']
    mp=data["status"][0]['mp']
    lvl=data["status"][0]['level']
    old_lvl=f"{lvl:02d}"
    # ? =================================================
    stre=data["status"][0]['str']
    stre=three_val(stre)

    intel=data["status"][0]['int']
    intel=three_val(intel)

    agi=data["status"][0]['agi']
    agi=three_val(agi)

    vit=data["status"][0]['vit']
    vit=three_val(vit)

    per=data["status"][0]['per']
    per=three_val(per)

    man=data["status"][0]['man']
    man=three_val(man)
    # ? =================================================
    tit=data["status"][1]['title']
    job=data["status"][1]['job'].upper()
    # ? =================================================
    xp_str=data["status"][0]['XP']
    coins=data["status"][0]['coins']
    # ? =================================================
    av_str_based=data["avail_eq"][0]['str_based']
    av_str_based=three_val(av_str_based)
    av_int_based=data["avail_eq"][0]['int_based']
    av_int_based=three_val(av_int_based)
    # ? =================================================
    str_buff=data["equipment"][0]["STR"]
    str_buff=sign(str_buff)+pos_fix(str_buff)

    agi_buff=data["equipment"][0]["AGI"]
    agi_buff=sign(agi_buff)+pos_fix(agi_buff)

    vit_buff=data["equipment"][0]["VIT"]
    vit_buff=sign(vit_buff)+pos_fix(vit_buff)

    int_buff=data["equipment"][0]["INT"]
    int_buff=sign(int_buff)+pos_fix(int_buff)

    per_buff=data["equipment"][0]["PER"]
    per_buff=sign(per_buff)+pos_fix(per_buff)

    man_buff=data["equipment"][0]["MAN"]
    man_buff=sign(man_buff)+pos_fix(man_buff)
    # ? =================================================

# ? =====================================================================
# ? =====================================================================

if lvl!=0:
    fin_chk=False
    with open("Files/Data/Level_Up_Values.json", 'r') as fron2:
        data_2=json.load(fron2)
        xp_chl=data_2["XP Check"][str(lvl+1)]
        if xp_str>=xp_chl:
            fin_chk=True

    if fin_chk==True:
        data["status"][0]['level']+=1
        with open("Files/status.json", 'w') as up_fson:
            json.dump(data, up_fson, indent=4)
        subprocess.Popen(['python', 'Anime Version/Leveled up NO ADD/build/gui.py'])
        subprocess.Popen(['python', 'Anime Version/Status Tab/build/gui.py'])
        window.quit()

with open("Files/Data/Level_Up_Values.json", 'r') as fron:
    data_1=json.load(fron)
    xp_end=data_1["XP Check"][str(lvl)]

    fin_xp=xp_end-xp_str
    if fin_xp<0:
        data["status"][0]['level']+=1
        with open("Files/status.json", 'w') as final_lvl_fson:
            json.dump(data, final_lvl_fson, indent=4)
        subprocess.Popen(['python', 'Anime Version/Status Tab/build/gui.py'])
        window.quit()

# ? =====================================================================
# ? =====================================================================

# / =================================================
# / =================================================

def update_str():
    if int(av_str_based)!=0:
        with open("Files\Checks\Ability_Check.json", 'r') as ability_check_file:
            ability_check_file_data=json.load(ability_check_file)
            val=ability_check_file_data["Check"]["STR"]
        if val<3:
            with open("Files/Data/Job_info.json", 'r') as stat_fson:
                stat_data=json.load(stat_fson)
            global str_txt
            current_text = canvas.itemcget(str_txt, "text")
            # ? ====================================================
            current_number = int(current_text)
            new_number = current_number + 1
            # ? ====================================================
            with open("Files/status.json", 'w') as fson:
                data["status"][0]['str']+=1
                data["avail_eq"][0]['str_based']-=1
                json.dump(data, fson, indent=4)
            # ? ====================================================
            stat_data["status"][1]["STR"]+=1
            with open("Files/Data/Job_info.json", 'w') as final_stat_fson:
                json.dump(stat_data, final_stat_fson, indent=4)
            # ? ====================================================
            new_text = f"{new_number:03d}"
            canvas.itemconfig(str_txt, text=new_text)
            with open("Files\Checks\Ability_Check.json", 'w') as fin_ability_check_file:
                ability_check_file_data["Check"]["STR"]+=1
                json.dump(ability_check_file_data, fin_ability_check_file, indent=4)
            de_update_str()
        else:
            with open("Files/Temp Files/Urgent Temp.csv", 'w', newline='') as urgent_file:
                fr=csv.writer(urgent_file)
                fr.writerow(["STR"])
            subprocess.Popen(['python', 'Anime Version/Urgent Quest/build/gui.py'])
            window.quit()

def update_agi():
    if int(av_str_based)!=0:
        with open("Files\Checks\Ability_Check.json", 'r') as ability_check_file:
            ability_check_file_data=json.load(ability_check_file)
            val=ability_check_file_data["Check"]["AGI"]
        if val<3:
            with open("Files/Data/Job_info.json", 'r') as stat_fson:
                stat_data=json.load(stat_fson)
            global agi_txt
            current_text = canvas.itemcget(agi_txt, "text")
            # ? ====================================================
            current_number = int(current_text)
            new_number = current_number + 1
            # ? ====================================================
            with open("Files/status.json", 'w') as fson:
                data["status"][0]['agi']+=1
                data["avail_eq"][0]['str_based']-=1
                json.dump(data, fson, indent=4)
            # ? ====================================================
            stat_data["status"][1]["AGI"]+=1
            with open("Files/Data/Job_info.json", 'w') as final_stat_fson:
                json.dump(stat_data, final_stat_fson, indent=4)
            # ? ====================================================
            new_text = f"{new_number:03d}"
            canvas.itemconfig(agi_txt, text=new_text)
            with open("Files\Checks\Ability_Check.json", 'w') as fin_ability_check_file:
                ability_check_file_data["Check"]["AGI"]+=1
                json.dump(ability_check_file_data, fin_ability_check_file, indent=4)
            de_update_str()
        else:
            with open("Files/Temp Files/Urgent Temp.csv", 'w', newline='') as urgent_file:
                fr=csv.writer(urgent_file)
                fr.writerow(["AGI"])
            subprocess.Popen(['python', 'Anime Version/Urgent Quest/build/gui.py'])
            window.quit()

def update_vit():
    if int(av_str_based)!=0:
        with open("Files\Checks\Ability_Check.json", 'r') as ability_check_file:
            ability_check_file_data=json.load(ability_check_file)
            val=ability_check_file_data["Check"]["VIT"]
        if val<3:
            with open("Files/Data/Job_info.json", 'r') as stat_fson:
                stat_data=json.load(stat_fson)
            global vit_txt
            current_text = canvas.itemcget(vit_txt, "text")
            # ? ====================================================
            current_number = int(current_text)
            new_number = current_number + 1
            # ? ====================================================
            with open("Files/status.json", 'w') as fson:
                data["status"][0]['vit']+=1
                data["avail_eq"][0]['str_based']-=1
                json.dump(data, fson, indent=4)
            # ? ====================================================
            stat_data["status"][1]["VIT"]+=1
            with open("Files/Data/Job_info.json", 'w') as final_stat_fson:
                json.dump(stat_data, final_stat_fson, indent=4)
            # ? ====================================================
            new_text = f"{new_number:03d}"
            canvas.itemconfig(vit_txt, text=new_text)
            with open("Files\Checks\Ability_Check.json", 'w') as fin_ability_check_file:
                ability_check_file_data["Check"]["VIT"]+=1
                json.dump(ability_check_file_data, fin_ability_check_file, indent=4)
            de_update_str()
        else:
            with open("Files/Temp Files/Urgent Temp.csv", 'w', newline='') as urgent_file:
                fr=csv.writer(urgent_file)
                fr.writerow(["VIT"])
            subprocess.Popen(['python', 'Anime Version/Urgent Quest/build/gui.py'])
            window.quit()

def update_int():
    if int(av_int_based)!=0:
        with open("Files\Checks\Ability_Check.json", 'r') as ability_check_file:
            ability_check_file_data=json.load(ability_check_file)
            val=ability_check_file_data["Check"]["INT"]
        if val<3:
            with open("Files/Data/Job_info.json", 'r') as stat_fson:
                stat_data=json.load(stat_fson)
            global int_txt
            current_text = canvas.itemcget(int_txt, "text")
            # ? ====================================================
            current_number = int(current_text)
            new_number = current_number + 1
            # ? ====================================================
            with open("Files/status.json", 'w') as fson:
                data["status"][0]['int']+=1
                data["avail_eq"][0]['int_based']-=1
                json.dump(data, fson, indent=4)
            # ? ====================================================
            stat_data["status"][1]["INT"]+=1
            with open("Files/Data/Job_info.json", 'w') as final_stat_fson:
                json.dump(stat_data, final_stat_fson, indent=4)
            # ? ====================================================
            new_text = f"{new_number:03d}"
            canvas.itemconfig(int_txt, text=new_text)
            with open("Files\Checks\Ability_Check.json", 'w') as fin_ability_check_file:
                ability_check_file_data["Check"]["INT"]+=1
                json.dump(ability_check_file_data, fin_ability_check_file, indent=4)
            de_update_int()
        else:
            with open("Files/Temp Files/Urgent Temp.csv", 'w', newline='') as urgent_file:
                fr=csv.writer(urgent_file)
                fr.writerow(["INT"])
            subprocess.Popen(['python', 'Anime Version/Urgent Quest/build/gui.py'])
            window.quit()

def update_per():
    if int(av_int_based)!=0:
        with open("Files\Checks\Ability_Check.json", 'r') as ability_check_file:
            ability_check_file_data=json.load(ability_check_file)
            val=ability_check_file_data["Check"]["PER"]
        if val<3:
            with open("Files/Data/Job_info.json", 'r') as stat_fson:
                stat_data=json.load(stat_fson)
            global per_txt
            current_text = canvas.itemcget(per_txt, "text")
            # ? ====================================================
            current_number = int(current_text)
            new_number = current_number + 1 
            # ? ====================================================
            with open("Files/status.json", 'w') as fson:
                data["status"][0]['per']+=1
                data["avail_eq"][0]['int_based']-=1
                json.dump(data, fson, indent=4)
            # ? ====================================================
            stat_data["status"][1]["PER"]+=1
            with open("Files/Data/Job_info.json", 'w') as final_stat_fson:
                json.dump(stat_data, final_stat_fson, indent=4)
            # ? ====================================================
            new_text = f"{new_number:03d}"
            canvas.itemconfig(per_txt, text=new_text)
            with open("Files\Checks\Ability_Check.json", 'w') as fin_ability_check_file:
                ability_check_file_data["Check"]["PER"]+=1
                json.dump(ability_check_file_data, fin_ability_check_file, indent=4)
            de_update_int()
        else:
            with open("Files/Temp Files/Urgent Temp.csv", 'w', newline='') as urgent_file:
                fr=csv.writer(urgent_file)
                fr.writerow(["PER"])
            subprocess.Popen(['python', 'Anime Version/Urgent Quest/build/gui.py'])
            window.quit()

def update_man():
    if int(av_int_based)!=0:
        with open("Files\Checks\Ability_Check.json", 'r') as ability_check_file:
            ability_check_file_data=json.load(ability_check_file)
            val=ability_check_file_data["Check"]["MAN"]
        if val<3:
            with open("Files/Data/Job_info.json", 'r') as stat_fson:
                stat_data=json.load(stat_fson)
            global man_txt
            current_text = canvas.itemcget(man_txt, "text")
            # ? ====================================================
            current_number = int(current_text)
            new_number = current_number + 1
            # ? ====================================================
            with open("Files/status.json", 'w') as fson:
                data["status"][0]['man']+=1
                data["avail_eq"][0]['int_based']-=1
                json.dump(data, fson, indent=4)
            # ? ====================================================
            stat_data["status"][1]["MAN"]+=1
            with open("Files/Data/Job_info.json", 'w') as final_stat_fson:
                json.dump(stat_data, final_stat_fson, indent=4)
            # ? ====================================================
            new_text = f"{new_number:03d}"
            canvas.itemconfig(man_txt, text=new_text)
            with open("Files\Checks\Ability_Check.json", 'w') as fin_ability_check_file:
                ability_check_file_data["Check"]["MAN"]+=1
                json.dump(ability_check_file_data, fin_ability_check_file, indent=4)
            de_update_int()
        else:
            with open("Files/Temp Files/Urgent Temp.csv", 'w', newline='') as urgent_file:
                fr=csv.writer(urgent_file)
                fr.writerow(["MAN"])
            subprocess.Popen(['python', 'Anime Version/Urgent Quest/build/gui.py'])
            window.quit()

# / =================================================
# / =================================================

def de_update_str():
    global av_str_based_txt
    current_text = canvas.itemcget(av_str_based_txt, "text")
    current_number = int(current_text)
    new_number = current_number - 1
    new_text = f"{new_number:03d}"
    canvas.itemconfig(av_str_based_txt, text=new_text)

def de_update_int():
    global av_int_based_txt
    current_text = canvas.itemcget(av_int_based_txt, "text")
    current_number = int(current_text)
    new_number = current_number - 1
    new_text = f"{new_number:03d}"
    canvas.itemconfig(av_int_based_txt, text=new_text)

# / =================================================
# / =================================================
str_txt=canvas.create_text(
    104.0,
    395.0,
    anchor="nw",
    text=stre,
    fill="#FFFFFF",
    font=("Montserrat SemiBold", 20 * -1)
)

canvas.create_text(
    147.0,
    398.0,
    anchor="nw",
    text=f"({str_buff})",
    fill="#34FF48",
    font=("Montserrat Regular", 15 * -1)
)

int_txt=canvas.create_text(
    102.0,
    449.0,
    anchor="nw",
    text=intel,
    fill="#FFFFFF",
    font=("Montserrat SemiBold", 20 * -1)
)

canvas.create_text(
    145.0,
    452.0,
    anchor="nw",
    text=f"({int_buff})",
    fill="#34FF48",
    font=("Montserrat Regular", 15 * -1)
)

agi_txt=canvas.create_text(
    102.0,
    501.0,
    anchor="nw",
    text=agi,
    fill="#FFFFFF",
    font=("Montserrat SemiBold", 20 * -1)
)

canvas.create_text(
    145.0,
    504.0,
    anchor="nw",
    text=f"({agi_buff})",
    fill="#34FF48",
    font=("Montserrat Regular", 15 * -1)
)

vit_txt=canvas.create_text(
    282.0,
    395.0,
    anchor="nw",
    text=vit,
    fill="#FFFFFF",
    font=("Montserrat SemiBold", 20 * -1)
)

canvas.create_text(
    323.0,
    398.0,
    anchor="nw",
    text=f"({vit_buff})",
    fill="#34FF48",
    font=("Montserrat Regular", 15 * -1)
)

per_txt=canvas.create_text(
    289.0,
    447.0,
    anchor="nw",
    text=per,
    fill="#FFFFFF",
    font=("Montserrat SemiBold", 20 * -1)
)

canvas.create_text(
    330.0,
    450.0,
    anchor="nw",
    text=f"({per_buff})",
    fill="#34FF48",
    font=("Montserrat Regular", 15 * -1)
)

canvas.create_text(
    337.0,
    505.0,
    anchor="nw",
    text=f"({man_buff})",
    fill="#34FF48",
    font=("Montserrat Regular", 15 * -1)
)

man_txt=canvas.create_text(
    295.0,
    503.0,
    anchor="nw",
    text=man,
    fill="#FFFFFF",
    font=("Montserrat SemiBold", 20 * -1)
)

image_image_6 = PhotoImage(
    file=relative_to_assets("image_6.png"))
image_6 = canvas.create_image(
    86.0,
    407.0,
    image=image_image_6
)

image_image_7 = PhotoImage(
    file=relative_to_assets("image_7.png"))
image_7 = canvas.create_image(
    84.0,
    461.0,
    image=image_image_7
)

image_image_8 = PhotoImage(
    file=relative_to_assets("image_8.png"))
image_8 = canvas.create_image(
    85.0,
    513.0,
    image=image_image_8
)

image_image_9 = PhotoImage(
    file=relative_to_assets("image_9.png"))
image_9 = canvas.create_image(
    266.0,
    407.0,
    image=image_image_9
)

image_image_10 = PhotoImage(
    file=relative_to_assets("image_10.png"))
image_10 = canvas.create_image(
    270.0,
    459.0,
    image=image_image_10
)

image_image_11 = PhotoImage(
    file=relative_to_assets("image_11.png"))
image_11 = canvas.create_image(
    273.0,
    515.0,
    image=image_image_11
)

button_image_1 = PhotoImage(
    file=relative_to_assets("button_1.png"))
button_1 = Button(
    image=button_image_1,
    borderwidth=0,
    highlightthickness=0,
    command=lambda: update_str(),
    relief="flat"
)
button_1.place(
    x=188.0,
    y=398.0,
    width=20.954654693603516,
    height=20.0
)

button_image_2 = PhotoImage(
    file=relative_to_assets("button_2.png"))
button_2 = Button(
    image=button_image_2,
    borderwidth=0,
    highlightthickness=0,
    command=lambda: update_int(),
    relief="flat"
)
button_2.place(
    x=189.0,
    y=452.0,
    width=20.954654693603516,
    height=20.0
)

button_image_3 = PhotoImage(
    file=relative_to_assets("button_3.png"))
button_3 = Button(
    image=button_image_3,
    borderwidth=0,
    highlightthickness=0,
    command=lambda: update_agi(),
    relief="flat"
)
button_3.place(
    x=189.0,
    y=504.0,
    width=20.954654693603516,
    height=20.0
)

button_image_4 = PhotoImage(
    file=relative_to_assets("button_4.png"))
button_4 = Button(
    image=button_image_4,
    borderwidth=0,
    highlightthickness=0,
    command=lambda: update_vit(),
    relief="flat"
)
button_4.place(
    x=364.0,
    y=395.0,
    width=20.954654693603516,
    height=20.0
)

button_image_5 = PhotoImage(
    file=relative_to_assets("button_5.png"))
button_5 = Button(
    image=button_image_5,
    borderwidth=0,
    highlightthickness=0,
    command=lambda: update_per(),
    relief="flat"
)
button_5.place(
    x=370.0,
    y=447.0,
    width=20.954654693603516,
    height=20.0
)

button_image_6 = PhotoImage(
    file=relative_to_assets("button_6.png"))
button_6 = Button(
    image=button_image_6,
    borderwidth=0,
    highlightthickness=0,
    command=lambda: update_man(),
    relief="flat"
)
button_6.place(
    x=377.0,
    y=503.0,
    width=20.954654693603516,
    height=20.0
)

image_image_12 = PhotoImage(
    file=relative_to_assets("image_12.png"))
image_12 = canvas.create_image(
    94.0,
    315.0,
    image=image_image_12
)

canvas.create_text(
    113.0,
    305.0,
    anchor="nw",
    text=hp,
    fill="#FFFFFF",
    font=("Montserrat Medium", 18 * -1)
)

image_image_13 = PhotoImage(
    file=relative_to_assets("image_13.png"))
image_13 = canvas.create_image(
    320.0,
    315.0,
    image=image_image_13
)

canvas.create_text(
    339.0,
    305.0,
    anchor="nw",
    text=mp,
    fill="#FFFFFF",
    font=("Montserrat Medium", 18 * -1)
)

image_image_14 = PhotoImage(
    file=relative_to_assets("image_14.png"))
image_14 = canvas.create_image(
    179.0,
    343.0,
    image=image_image_14
)

canvas.create_text(
    280.0,
    333.0,
    anchor="nw",
    text=fin_xp,
    fill="#FFFFFF",
    font=("Montserrat Medium", 16 * -1)
)

canvas.create_text(
    322.0,
    225.0,
    anchor="nw",
    text="LEVEL",
    fill="#FFFFFF",
    font=("Montserrat Regular", 24 * -1)
)

canvas.create_text(
    328.0,
    164.0,
    anchor="nw",
    text=old_lvl,
    fill="#FFFFFF",
    font=("Montserrat Bold", 60 * -1)
)

canvas.create_text(
    55.0,
    199.0,
    anchor="nw",
    text="JOB:",
    fill="#FFFFFF",
    font=("Montserrat Bold", 20 * -1)
)

canvas.create_text(
    55.0,
    233.0,
    anchor="nw",
    text="TITLE:",
    fill="#FFFFFF",
    font=("Montserrat Bold", 20 * -1)
)

canvas.create_text(
    107.0,
    200.0,
    anchor="nw",
    text=job.upper(),
    fill="#FFFFFF",
    font=("Montserrat Regular", 18 * -1)
)

canvas.create_text(
    122.0,
    234.0,
    anchor="nw",
    text=tit.upper(),
    fill=title_color(tit),
    font=("Montserrat Regular", 18 * -1)
)

canvas.create_text(
    55.0,
    166.0,
    anchor="nw",
    text="NAME:",
    fill="#FFFFFF",
    font=("Montserrat Bold", 20 * -1)
)

canvas.create_text(
    129.0,
    167.0,
    anchor="nw",
    text=name,
    fill="#FFFFFF",
    font=("Montserrat Regular", 18 * -1)
)

av_int_based_txt=canvas.create_text(
    365.0,
    615.0,
    anchor="nw",
    text=av_int_based,
    fill="#FFFFFF",
    font=("Montserrat Bold", 24 * -1)
)

image_image_15 = PhotoImage(
    file=relative_to_assets("image_15.png"))
image_15 = canvas.create_image(
    297.0,
    630.0,
    image=image_image_15
)

av_str_based_txt=canvas.create_text(
    365.0,
    560.0,
    anchor="nw",
    text=av_str_based,
    fill="#FFFFFF",
    font=("Montserrat Bold", 24 * -1)
)

image_image_16 = PhotoImage(
    file=relative_to_assets("image_16.png"))
image_16 = canvas.create_image(
    304.0,
    579.0,
    image=image_image_16
)

canvas.create_text(
    51.0,
    574.0,
    anchor="nw",
    text="COINS:",
    fill="#FFFFFF",
    font=("Montserrat Medium", 16 * -1)
)

image_image_17 = PhotoImage(
    file=relative_to_assets("image_17.png"))
image_17 = canvas.create_image(
    132.0,
    609.0,
    image=image_image_17
)

canvas.create_text(
    85.0,
    598.0,
    anchor="nw",
    text=coins,
    fill="#FFFFFF",
    font=("Montserrat Regular", 20 * -1)
)

image_image_18 = PhotoImage(
    file=relative_to_assets("image_18.png"))
image_18 = canvas.create_image(
    300.0,
    245.0,
    image=image_image_18
)

canvas.tag_bind(image_18, "<ButtonPress-1>", title_chng)


image_image_200 = PhotoImage(
    file=relative_to_assets("image_18.png"))
image_200 = canvas.create_image(
    300.0,
    208.0,
    image=image_image_200,
    tags='Job',
    state='normal'
)

canvas.tag_bind(image_200, "<ButtonPress-1>", start_job)

button_image_7 = PhotoImage(
    file=relative_to_assets("button_7.png"))
button_7 = Button(
    image=button_image_7,
    borderwidth=0,
    highlightthickness=0,
    command=lambda: subprocess.Popen(['python', 'Anime Version/Statistics/build/gui.py']),
    relief="flat"
)
button_7.place(
    x=51.0,
    y=65.0,
    width=145.0,
    height=23.0
)

canvas.create_rectangle(
    0.0,
    0.0,
    101.0,
    21.0,
    fill="#0C679B",
    outline="")

canvas.create_rectangle(
    0.0,
    678.0,
    494.0,
    716.0,
    fill="#0C679B",
    outline="")

image_image_19 = PhotoImage(
    file=relative_to_assets("image_19.png"))
image_19 = canvas.create_image(
    -15.0,
    348.0,
    image=image_image_19
)

image_image_20 = PhotoImage(
    file=relative_to_assets("image_20.png"))
image_20 = canvas.create_image(
    462.0,
    351.0,
    image=image_image_20
)

canvas.create_rectangle(
    92.0,
    0.0,
    488.0,
    34.0,
    fill="#0C679B",
    outline="")

image_image_21 = PhotoImage(
    file=relative_to_assets("image_21.png"))
image_21 = canvas.create_image(
    244.0,
    19.0,
    image=image_image_21
)

canvas.tag_bind(image_21, "<ButtonPress-1>", start_move)
canvas.tag_bind(image_21, "<B1-Motion>", move_window)

image_image_22 = PhotoImage(
    file=relative_to_assets("image_22.png"))
image_22 = canvas.create_image(
    295.0,
    680.0,
    image=image_image_22
)

button_image_8 = PhotoImage(
    file=relative_to_assets("button_8.png"))
button_8 = Button(
    image=button_image_8,
    borderwidth=0,
    highlightthickness=0,
    command=lambda: ex_close(window),
    relief="flat"
)
button_8.place(
    x=390.0,
    y=55.0,
    width=20.0,
    height=20.0
)

with open("Files/Data/Job_info.json", 'r') as stat_fson:
    stat_data=json.load(stat_fson)

if stat_data["status"][0]["job_active"]=='False' and lvl>=40:
    print()
    canvas.itemconfig("Job", state="normal")
else:
    canvas.itemconfig("Job", state="hidden")

window.resizable(False, False)
window.mainloop()
