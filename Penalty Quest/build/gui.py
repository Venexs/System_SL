
# This file was generated by the Tkinter Designer by Parth Jadhav
# https://github.com/ParthJadhav/Tkinter-Designer


from pathlib import Path

# from tkinter import *
# Explicit imports to satisfy Flake8
from tkinter import Tk, Canvas, Entry, Text, Button, PhotoImage
import winsound
import time
import subprocess

def update_countdown():
    # Calculate the remaining time in seconds (4 hours = 14400 seconds)
    remaining_time = 14400 - (time.time() - start_time)
    if remaining_time <= 0:
        # Call a function when countdown reaches 00:00:00
        countdown_completed()
    else:
        # Convert the remaining time to hours, minutes, and seconds
        hours = int(remaining_time // 3600)
        minutes = int((remaining_time % 3600) // 60)
        seconds = int(remaining_time % 60)
        # Format the time as a string
        time_string = f"{hours:02d}:{minutes:02d}:{seconds:02d}"
        # Update the text of the countdown label
        countdown_label.config(text=time_string)
        # Schedule the update every 1000 milliseconds (1 second)
        countdown_label.after(1000, update_countdown)

# Function to run when countdown reaches 00:00:00
def countdown_completed():
    subprocess.Popen(['python', 'Rewards Panel/build/gui.py'])

subprocess.Popen(['python', 'sfx.py'])

OUTPUT_PATH = Path(__file__).parent
ASSETS_PATH = OUTPUT_PATH / Path(r"assets\frame0")

def relative_to_assets(path: str) -> Path:
    return ASSETS_PATH / Path(path)


window = Tk()

window.geometry("555x957")
window.configure(bg = "#FFFFFF")


canvas = Canvas(
    window,
    bg = "#FFFFFF",
    height = 957,
    width = 555,
    bd = 0,
    highlightthickness = 0,
    relief = "ridge"
)

canvas.place(x = 0, y = 0)
image_image_1 = PhotoImage(
    file=relative_to_assets("image_1.png"))
image_1 = canvas.create_image(
    277.0,
    478.0,
    image=image_image_1
)

canvas.create_rectangle(
    0.0,
    866.9999999999999,
    539.0,
    883.0,
    fill="#FFFFFF",
    outline="")

canvas.create_rectangle(
    0.0,
    87.0,
    520.9990367889404,
    103.98248827329371,
    fill="#FFFFFF",
    outline="")

image_image_2 = PhotoImage(
    file=relative_to_assets("image_2.png"))
image_2 = canvas.create_image(
    286.9999999999999,
    483.9999999999999,
    image=image_image_2
)

countdown_label =canvas.create_text(
    197.0,
    702.0,
    anchor="nw",
    text="00:00:00",
    fill="#FFFFFF",
    font=("Inter", 48 * -1)
)

canvas.create_text(
    207.0,
    156.0,
    anchor="nw",
    text="QUEST INFO",
    fill="#FFFFFF",
    font=("Inter Medium", 26 * -1)
)

canvas.create_rectangle(
    172.0,
    184.0,
    398.0,
    187.00000006601084,
    fill="#FFFFFF",
    outline="")

canvas.create_text(
    249.0,
    525.0,
    anchor="nw",
    text="GOAL",
    fill="#FFFFFF",
    font=("Inter Medium", 26 * -1)
)

canvas.create_rectangle(
    237.0,
    553.0,
    331.0,
    556.0000000269372,
    fill="#FFFFFF",
    outline="")

canvas.create_rectangle(
    237.0,
    558.0,
    331.0,
    561.0000000269372,
    fill="#FFFFFF",
    outline="")

canvas.create_text(
    252.0,
    675.0,
    anchor="nw",
    text="Blocked",
    fill="#FFFFFF",
    font=("Inter", 18 * -1)
)

canvas.create_text(
    170.0,
    270.0,
    anchor="nw",
    text="[Penalty Quest: Blocked]",
    fill="#FFFFFF",
    font=("Inter", 20 * -1)
)

start_time = time.time()

update_countdown()

window.resizable(False, False)
window.mainloop()
